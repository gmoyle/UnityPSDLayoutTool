# GitHub Secrets Setup for Unity CI/CD

This repository uses GitHub Actions for CI/CD. To enable the full Unity compilation testing and package building, you'll need to set up Unity-related secrets.

## üîë Required Secrets (For Full Unity CI)

### Unity License Secrets
Navigate to your repository Settings ‚Üí Secrets and variables ‚Üí Actions, then add:

| Secret Name | Description | Required For |
|-------------|-------------|--------------|
| `UNITY_LICENSE` | Unity license file content | Unity compilation testing |
| `UNITY_EMAIL` | Unity account email | Unity compilation testing |
| `UNITY_PASSWORD` | Unity account password | Unity compilation testing |

### Optional Secrets
| Secret Name | Description | Required For |
|-------------|-------------|--------------|
| `GITHUB_TOKEN` | Auto-generated by GitHub | Release creation (automatic) |

## üéØ Getting Unity License for CI

### Option 1: Personal License (Free)
1. Install Unity Hub and Unity Editor locally
2. Activate your personal license
3. Find the license file:
   - **Windows:** `C:\ProgramData\Unity\Unity_lic.ulf`
   - **macOS:** `/Library/Application Support/Unity/Unity_lic.ulf`
   - **Linux:** `~/.local/share/unity3d/Unity/Unity_lic.ulf`

### Option 2: Unity Pro/Plus License
If you have a paid Unity license, use the same license file location.

### Option 3: Request Unity License via CLI
```bash
# This will generate a license request
unity -batchmode -quit -logFile /dev/stdout -createManualActivationFile

# Upload the generated .alf file to Unity's manual activation page
# Download the .ulf license file
```

## üìù Setting Up Secrets

### 1. Unity License (UNITY_LICENSE)
1. Open your Unity license file (.ulf) in a text editor
2. Copy the entire content
3. In GitHub: Settings ‚Üí Secrets ‚Üí New repository secret
4. Name: `UNITY_LICENSE`
5. Value: Paste the license file content

### 2. Unity Email (UNITY_EMAIL)
1. In GitHub: Settings ‚Üí Secrets ‚Üí New repository secret
2. Name: `UNITY_EMAIL` 
3. Value: Your Unity account email

### 3. Unity Password (UNITY_PASSWORD)
1. In GitHub: Settings ‚Üí Secrets ‚Üí New repository secret
2. Name: `UNITY_PASSWORD`
3. Value: Your Unity account password

## üö¶ Workflow Status

### ‚úÖ Always Available (No Secrets Required)
- **Basic CI** (`.github/workflows/basic-ci.yml`)
  - Package validation
  - Code structure checking
  - JSON syntax validation
  - No Unity license needed

### üîê Requires Secrets
- **Full CI** (`.github/workflows/ci.yml`)
  - Unity compilation testing across multiple versions
  - Requires Unity license secrets
  
- **Release** (`.github/workflows/release.yml`)
  - Automated package creation
  - GitHub release generation
  - Requires Unity license secrets

## üõ†Ô∏è Alternative: License-Free Development

If you can't set up Unity license secrets, you can still benefit from:

1. **Basic CI validation** - Runs automatically without secrets
2. **Manual Unity testing** - Test locally before pushing
3. **Code review automation** - Structure and syntax validation

## üîç Troubleshooting

### Common Issues

**Unity License Activation Failed**
```
ERROR: Failed to activate license
```
- Verify license file content is complete
- Check that email/password are correct
- Ensure license isn't already in use elsewhere

**Secret Not Found**
```
ERROR: Secret UNITY_LICENSE not found
```
- Verify secret name matches exactly (case-sensitive)
- Check that secret is set in the correct repository
- Ensure you have admin access to the repository

**Unity Version Not Available**
```
ERROR: Unity version 2018.4.36f1 not found
```
- Unity versions in CI are periodically updated
- Check [game-ci/unity-builder](https://github.com/game-ci/unity-builder) for available versions
- Update workflow file with available versions

## üìö Additional Resources

- [Unity CI/CD Documentation](https://game.ci/)
- [GitHub Secrets Documentation](https://docs.github.com/en/actions/security-guides/encrypted-secrets)
- [Unity Manual Activation](https://docs.unity3d.com/Manual/ManualActivationGuide.html)

## üéâ Testing Your Setup

Once secrets are configured, push any change to trigger the workflows:

```bash
git commit --allow-empty -m "Test CI/CD setup"
git push origin master
```

Check the Actions tab in your GitHub repository to see the workflows running!
